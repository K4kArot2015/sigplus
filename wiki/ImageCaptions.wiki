#summary Image captions and caption templates.
#labels Featured

= Introduction =

A central notion to sigplus is image captions. The term _caption_ may refer to
  * short image title or
  * summary text.

The title, which is usually a few words long, will typically appear
  * directly on the page, either in an overlay caption, or above or below preview images, and
  * inside the lightbox pop-up window as a window title, in a distinctive position.
  * as alternate text for the {{{img}}} element in the generated HTML content (to help search engines identify images)

In contrast, the summary text, which is usually a sentence long, will appear below or next to the magnified image within the lightbox pop-up window.

The following all act as sources for image captions (in decreasing order of precedence):
  # an explicit entry in a {{{labels.txt}}} file
  # image metadata (IPTC and EXIF)
  # default caption for the folder (set via a {{{labels.txt}}} file with the special entry {{{*}}})
  # default caption specified in the back-end

= Labels file =

A labels file (typically called {{{labels.txt}}}) is a plain text file in the image folder with a two-fold function:
  # binds a short title and summary text to images, and
  # defines a relative order of images in the gallery.

Image file name, title and summary in {{{labels.txt}}} are separated by a {{{|}}} (vertical bar).

A sample {{{labels.txt}}} is shown below:

<pre>
example.png|An image title|A longer, more verbose description.
example.jpg||A description that may contain <em>html formatting</em>.
apple.jpg|A ripe apple|This apple not only looks great but tastes just as good.
bunny.jpg|A cute bunny|This terra-cotta bunny has been laser-scanned at Budapest University of Technology.
example.jpg
`*`|Default title|Default summary text for <a href="http://hunyadi.info.hu/projects/sigplus/">sigplus</a>
</pre>

As shown in the example, both title and summary are optional. You may supply a default title and summary with the special entry {{{*}}}. Whenever an item has no title or summary, the default will be assigned. Note that only a single {{{*}}} is understood (it may put anywhere within the {{{labels.txt}}} file), sigplus cannot interpret wildcard expressions like {{{*.jpg}}}.

Labeling supports multilingual sites. If multilingual support is enabled in the administration panel and a file {{{labels.xx-XX.txt}}} exists in a folder, where {{{xx-XX}}} is the placeholder for the ISO language code, e.g. {{{en-GB}}} for English (United Kingdom) or {{{hu-HU}}} for Hungarian, the language-specific labels file is used, with fallback to the default {{{labels.txt}}}.

All label files are assumed to be UTF-8 encoded. (If you use English characters only, your text automatically qualifies as UTF-8.) For Windows, the editor [http://notepad-plus.sourceforge.net/ Notepad++] has the option _Convert to UTF-8 without BOM_ in the _Format_ menu. sigplus can also recognize and remove the redundant byte-order mark (BOM) inserted by the default Windows text editor Notepad at the beginning of a UTF-8 encoded file.

= Caption templates =

In addition to caption and default caption, sigplus has a notion (and
configuration parameter) of _caption templates_ referred to as _Image title template_ and _Image summary template_ in the back-end. A template is a format-description text with special semantics, including placeholders like {{{{$text}}}}, {{{{$filename}}}}, {{{{$count}}}} and {{{{$total}}}}, which define how a caption is formatted when it appears as an image label. The placeholder semantics are as follows:
  * {{{{$text}}}} is substituted with the caption text, either explicitly specified using a {{{labels.txt}}} file or extracted from image metadata, or the default caption as specified in the configuration.
  * {{{{$current}}}} and {{{{$total}}}} are substituted with the ordinal number of the image in its gallery and the total number of images in the gallery, respectively.
  * {{{{$filename}}}} is substituted with the image file name without path.

An insightful example is as follows:

Back-end settings:
  * Image title template: {{{{$text} ({$count} of {$total})}}}
  * Default image title: {{{Unidentified fruit}}}

{{{labels.txt}}} contents:
<pre>
cherry.jpg|Three cherries|Some cherries in my fruit collection.
pears.jpg|Two pears|A few pears in my fruit collection.
strawberry.jpg|A strawberry|A strawberry in my fruit collection.
</pre>

Folder directory listing:
<pre>
cherry.jpg
pears.jpg
peas.jpg
strawberry.jpg
</pre>

Formatted caption for each file:
  * Three cherries (1 of 4)
  * Two pears (2 of 4)
  * Unidentified fruit (3 of 4)
  * A strawberry (4 of 4)